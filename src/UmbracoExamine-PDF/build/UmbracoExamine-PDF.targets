<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <UmbracoExamine-PDFContentFilesPath>$(MSBuildThisFileDirectory)..\App_Plugins\UmbracoExamine-PDF\**\*.*</UmbracoExamine-PDFContentFilesPath>
    </PropertyGroup>

    <Target Name="CopyUmbracoExamine-PDFAssets" BeforeTargets="Build">
        <ItemGroup>
            <UmbracoExamine-PDFContentFiles Include="$(UmbracoExamine-PDFContentFilesPath)" />
        </ItemGroup>
        <Message Text="Copying UmbracoExamine-PDF files: $(UmbracoExamine-PDFContentFilesPath) - #@(UmbracoExamine-PDFContentFiles->Count()) files"  Importance="high" />
        <Copy
            SourceFiles="@(UmbracoExamine-PDFContentFiles)"
            DestinationFiles="@(UmbracoExamine-PDFContentFiles->'$(MSBuildProjectDirectory)\App_Plugins\UmbracoExamine-PDF\%(RecursiveDir)%(Filename)%(Extension)')"
            SkipUnchangedFiles="true" />

    </Target>

    <Target Name="ClearUmbracoExamine-PDFAssets" BeforeTargets="Clean">
        <ItemGroup>
            <UmbracoExamine-PDFDir Include="$(MSBuildProjectDirectory)\App_Plugins\UmbracoExamine-PDF\" />
        </ItemGroup>
        <Message Text="Clear old UmbracoExamine-PDF data"  Importance="high" />
        <RemoveDir Directories="@(UmbracoExamine-PDFDir)"  />
    </Target>

</Project>
